- first_field_name = @answers.first.template_field.name
- counter = 0

- @answers.each do |answer|
  = f.fields_for 'answers[]', answer do |a|
    = a.hidden_field :template_field_id, :value => answer.template_field_id

    - if answer.template_field.name == first_field_name
      .counter
        %hr
        .container.new_roman= DocumentAnswer::NUMBER_NAME[counter]
        - counter += 1

    - case answer.template_field.field_type
    - when /date|time/
      = render :partial => 'document_answers/fields/datetime', :locals => { :a => a, :answer => answer }

    - when /\Alink:sep:/
      = render :partial => 'document_answers/fields/link', :locals => { :answer => answer }

    - when /radio/
      = render :partial => 'document_answers/fields/radio', :locals => { :a => a, :answer => answer }

    - else
      = render :partial => "document_answers/fields/#{ answer.template_field.field_type }", :locals => { :a => a, :answer => answer }

    - case answer.template_field.field_type

    - when /last\z/
      .col-md-12
        %br

    - when 'date'
      .col-md-12
        %br
